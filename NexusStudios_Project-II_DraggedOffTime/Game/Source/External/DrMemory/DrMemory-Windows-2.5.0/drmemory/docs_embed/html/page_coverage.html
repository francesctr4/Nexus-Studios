---
title: "Code Coverage"
layout: default
permalink: /page_coverage.html
---
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dr. Memory
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Code Coverage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Dr. Memory provides optional code coverage information to aid in fuzz testing (<a class="el" href="page_fuzzer.html">Fuzz Testing Mode</a>) or in general testing.</p>
<h1><a class="anchor" id="sec_enable"></a>
Enabling Coverage Information</h1>
<p>Simply specify the <code>-coverage</code> runtime option to request code coverage information. The raw coverage data will be stored in a file with a "drcov" prefix in the regular Dr. Memory log directory. The file will be pointed at by a line at the end of the summary, if the application has a console for text output. This line looks like this:</p>
<pre class="fragment">~~Dr.M~~ Code coverage raw data: /home/joe/drmemory/logs/DrMemory-myapp.13112.000/drcov.myapp.13112.0000.proc.log
</pre><h1><a class="anchor" id="sec_postproc"></a>
Post Processing</h1>
<p>The "drcov" file is raw data in <code>drcov</code> format that must be post-processed to make it human readable. DynamoRIO's <code>drcov2lcov</code> utility converts it into <code>lcov</code> format. The Dr. Memory release package includes a copy of this utility. Simply use its <code>-input</code> parameter to point at the <code>drcov</code> log file:</p>
<pre class="fragment">dynamorio/tools/bin32/drcov2lcov -input logs/DrMemory-myapp.13112.000/drcov.myapp.13112.0000.proc.log
</pre><p>The resulting <code>coverage.info</code> file (in the current directory by default) is in the standard <code>lcov</code> format and can be processed by the <a href="http://ltp.sourceforge.net/coverage/lcov.php">lcov tool</a> to produce nice html result pages.</p>
<p>For a full description of the drcov2lcov usage see the <code>drcov</code> documemtation at <a href="http://dynamorio.org/docs/page_drcov.html">http://dynamorio.org/docs/page_drcov.html</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.19-->
<!-- start footer part -->
<!--BEGIN GENERATE_TREEVIEW-->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer" style="float:none;text-align:center"><img border=0 src="favicon.png"> &nbsp;  Dr. Memory version 2.5.0 --- Mon Oct 18 2021 03:09:18 &nbsp; <img border=0 src="favicon.png">
</small></address>
