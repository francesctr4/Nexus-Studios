---
title: "Dr. Memory Framework"
layout: default
permalink: /page_drmf.html
---
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dr. Memory
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Dr. Memory Framework </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Dr. Memory provides a Software Development Kit called the Dr. Memory Framework, or DRMF. The DRMF allows other tools to leverage the powerful features built into Dr. Memory. The DRMF is organized into separate DynamoRIO Extension libraries:</p>
<ul>
<li><a class="el" href="page_drsyscall.html">Dr. Syscall: System Call Monitoring Extension</a> <br  />
Detailed system call parameter monitoring</li>
<li><a class="el" href="page_umbra.html">Umbra: Shadow Memory Extension</a> <br  />
Shadow memory mapping</li>
<li><a class="el" href="page_drsymcache.html">Dr. SymCache: Symbol Lookup Cache Extension</a> <br  />
Persistent caching of symbol lookup data</li>
<li><a class="el" href="page_drfuzz.html">Dr. Fuzz: Dynamic Fuzz Testing Extension</a> <br  />
Fuzz testing</li>
<li>Dr. Malloc <br  />
Memory allocation tracking (<em>coming soon</em>)</li>
<li>Dr. Callstack <br  />
Efficient callstack walking and storage (<em>coming soon</em>)</li>
</ul>
<h1><a class="anchor" id="sec_drmf_setup"></a>
Using DRMF</h1>
<p>DRMF is now distributed in a combined package with DynamoRIO for DynamoRIO versions 5.0 and higher. If you are using such a combined package, DRMF will be automatically located and loaded for you when you execute the <code>find_package(DynamoRIO)</code> command.</p>
<p>If you are using a standalone Dr. Memory package, to use one or more of the components of DRMF, locate the Dr. Memory Framework using the <code>find_package</code> command right after similarly locating the DynamoRIO package:</p>
<div class="fragment"><div class="line">find_package(DynamoRIO)</div>
<div class="line">find_package(DrMemoryFramework)</div>
</div><!-- fragment --><p>All of the components of DRMF share the same versioning scheme. You can pass a required version to <code>find_package:</code> </p>
<div class="fragment"><div class="line">find_package(DrMemoryFramework 1.0)</div>
</div><!-- fragment --><p>To point CMake at the framework, set the DrMemoryFramework_DIR variable to point at the <code>drmf</code> subdirectory of the Dr. Memory package that you are using. For example:</p>
<div class="fragment"><div class="line">cmake -G<span class="stringliteral">&quot;Ninja&quot;</span> -DDynamoRIO_DIR=c:/path/to/DynamoRIO-Windows-4.1.0-8/cmake -DDrMemoryFramework_DIR=c:/path/to/DrMemory-Windows-1.6.0-2/drmf ../mysrcs/</div>
</div><!-- fragment --><p>Once the package is located, use the standard method of using an Extension for each component your client uses. The two steps combined will look like this example in your client's <code>CMakeLists.txt</code> file:</p>
<div class="fragment"><div class="line">find_package(DrMemoryFramework)</div>
<div class="line">use_DynamoRIO_extension(clientname drsyscall)</div>
<div class="line">use_DynamoRIO_extension(clientname umbra)</div>
</div><!-- fragment --><p>That will automatically set up the include paths and library dependences.</p>
<p>See the documentation for the individual components for information on how to use each one. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.19-->
<!-- start footer part -->
<!--BEGIN GENERATE_TREEVIEW-->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer" style="float:none;text-align:center"><img border=0 src="favicon.png"> &nbsp;  Dr. Memory version 2.5.0 --- Mon Oct 18 2021 03:09:18 &nbsp; <img border=0 src="favicon.png">
</small></address>
